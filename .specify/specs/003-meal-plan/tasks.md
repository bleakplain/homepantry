# Tasks: é¤é£Ÿè®¡åˆ’

**Spec ID**: 003
**åŠŸèƒ½åç§°**: é¤é£Ÿè®¡åˆ’
**ä¼˜å…ˆçº§**: P0
**çŠ¶æ€**: âœ… å·²å®ç°
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15
**æœ€åæ›´æ–°**: 2026-02-15

---

## å·²å®Œæˆä»»åŠ¡

### 1. æ•°æ®å±‚å®ç°

#### 1.1 åˆ›å»º Entity ç±»
- [x] 1.1.1 åˆ›å»º `MealPlan` Entity
  - å­—æ®µï¼šid, date, mealType, recipeId, servings, notes
  - ç´¢å¼•ï¼šdate, mealType, recipeId
- [x] 1.1.2 åˆ›å»º `MealType` æšä¸¾
  - BREAKFAST, LUNCH, DINNER, SNACK

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/entity/MealPlan.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰å­—æ®µæ­£ç¡®å®šä¹‰
- [x] ä¸»é”®ä½¿ç”¨ `@PrimaryKey`
- [x] ç´¢å¼•æ­£ç¡®å®šä¹‰
- [x] æšä¸¾å®šä¹‰æ­£ç¡®

---

#### 1.2 åˆ›å»º DAO æ¥å£
- [x] 1.2.1 åˆ›å»º `MealPlanDao` æ¥å£
- [x] 1.2.2 å®ç°åŸºç¡€ CRUD æ–¹æ³•
- [x] 1.2.3 å®ç°æŒ‰æ—¥æœŸæŸ¥è¯¢æ–¹æ³•
- [x] 1.2.4 å®ç°æŒ‰å‘¨æŸ¥è¯¢æ–¹æ³•
- [x] 1.2.5 å®ç°æŒ‰æ—¥æœŸåˆ é™¤æ–¹æ³•

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/dao/MealPlanDao.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æŸ¥è¯¢æ–¹æ³•æ­£ç¡®å®ç°
- [x] ä½¿ç”¨ `Flow` è¿”å›å®æ—¶æ•°æ®
- [x] å¤æ‚æ“ä½œä½¿ç”¨ `@Transaction`
- [x] æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–ï¼ˆç´¢å¼•ã€åˆ†é¡µï¼‰

---

#### 1.3 åˆ›å»º Repository
- [x] 1.3.1 åˆ›å»º `MealPlanRepository` ç±»
- [x] 1.3.2 å®ç°é¤é£Ÿè®¡åˆ’ CRUD æ–¹æ³•
- [x] 1.3.3 å®ç°æŒ‰å‘¨æŸ¥è¯¢æ–¹æ³•
- [x] 1.3.4 å®ç°å¤åˆ¶æ—¥æœŸåŠŸèƒ½
- [x] 1.3.5 å®ç°æ¸…ç†æ—¥æœŸåŠŸèƒ½

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/repository/MealPlanRepository.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æ–¹æ³•æ­£ç¡®å®ç°
- [x] äº‹åŠ¡æ“ä½œä½¿ç”¨ `@Transaction`
- [x] é”™è¯¯å¤„ç†å®Œå–„
- [x] æ–¹æ³•èŒè´£å•ä¸€

---

#### 1.4 é…ç½®æ•°æ®åº“
- [x] 1.4.1 æ³¨å†Œ `MealPlan` Entity
- [x] 1.4.2 æ³¨å†Œ `MealPlanDao`
- [x] 1.4.3 é…ç½®æ•°æ®åº“è¿ç§»
- [x] 1.4.4 é…ç½®æ•°æ®åº“ç‰ˆæœ¬

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/database/HomePantryDatabase.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰ Entity æ­£ç¡®æ³¨å†Œ
- [x] æ‰€æœ‰ DAO æ­£ç¡®æ³¨å†Œ
- [x] è¿ç§»ç­–ç•¥æ­£ç¡®é…ç½®
- [x] æ•°æ®åº“ç‰ˆæœ¬æ­£ç¡®è®¾ç½®

---

### 2. ä¸šåŠ¡é€»è¾‘å±‚å®ç°

#### 2.1 åˆ›å»º ViewModel
- [x] 2.1.1 åˆ›å»º `MealPlanViewModel` ç±»
- [x] 2.1.2 å®šä¹‰ UI çŠ¶æ€ï¼ˆ`MealPlanUiState`ï¼‰
- [x] 2.1.3 å®ç° `loadMealPlans()` æ–¹æ³•
- [x] 2.1.4 å®ç° `addMealPlan()` æ–¹æ³•
- [x] 2.1.5 å®ç° `updateMealPlan()` æ–¹æ³•
- [x] 2.1.6 å®ç° `deleteMealPlan()` æ–¹æ³•
- [x] 2.1.7 å®ç° `loadMealPlansForWeek()` æ–¹æ³•

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/viewmodel/MealPlanViewModel.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] çŠ¶æ€ç®¡ç†æ­£ç¡®ï¼ˆä½¿ç”¨ StateFlowï¼‰
- [x] æ‰€æœ‰æ–¹æ³•æ­£ç¡®å®ç°
- [x] é”™è¯¯å¤„ç†å®Œå–„
- [x] åç¨‹æ­£ç¡®ä½¿ç”¨

---

#### 2.2 åˆ›å»º Use Casesï¼ˆå¯é€‰æ‰©å±•ï¼‰

- [x] 2.2.1 åˆ›å»º `AddMealPlanUseCase`
- [x] 2.2.2 åˆ›å»º `GetMealPlanUseCase`
- [x] 2.2.3 åˆ›å»º `CopyDayPlanUseCase`

**éªŒæ”¶æ ‡å‡†**:
- [x] è¾“å…¥éªŒè¯å®Œå–„
- [x] é”™è¯¯å¤„ç†ç»Ÿä¸€
- [x] ä¸šåŠ¡é€»è¾‘æ¸…æ™°
- [x] æ–¹æ³•èŒè´£å•ä¸€

---

### 3. è¡¨ç°å±‚å®ç°

#### 3.1 åˆ›å»ºé¤é£Ÿè®¡åˆ’é¡µé¢
- [x] 3.1.1 åˆ›å»º `MealPlanScreen` Composable
- [x] 3.1.2 åˆ›å»º `DailyMenuView` Composable
- [x] 3.1.3 åˆ›å»º `MealPlanItem` Composable
- [x] 3.1.4 å®ç°åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [x] 3.1.5 å®ç°é”™è¯¯çŠ¶æ€æ˜¾ç¤º
- [x] 3.1.6 å®ç°ç©ºçŠ¶æ€æ˜¾ç¤º

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/mealplan/MealPlanScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] äº¤äº’æµç•…æ— å¡é¡¿
- [x] æ‰€æœ‰çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
- [x] æ”¯æŒå‘¨è§†å›¾å’Œæ—¥è§†å›¾

---

#### 3.2 åˆ›å»ºæ·»åŠ é¤é£Ÿé¡µé¢
- [x] 3.2.1 åˆ›å»º `AddMealPlanScreen` Composable
- [x] 3.2.2 åˆ›å»º `MealPlanForm` Composable
- [x] 3.2.3 å®ç°è¡¨å•éªŒè¯
- [x] 3.2.4 å®ç°é€‰æ‹©èœè°±
- [x] 3.2.5 å®ç°è®¾ç½®æ—¥æœŸå’Œé¤æ¬¡

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/mealplan/AddMealPlanScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] è¡¨å•éªŒè¯å®Œå–„
- [x] ä¿å­˜åŠŸèƒ½æ­£å¸¸

---

#### 3.3 åˆ›å»ºå‘¨èœå•ç”Ÿæˆé¡µé¢
- [x] 3.3.1 åˆ›å»º `WeeklyMenuGeneratorScreen` Composable
- [x] 3.3.2 å®ç°é€‰æ‹©æ—¶é—´èŒƒå›´
- [x] 3.3.3 å®ç°è®¾å®šæ¡ä»¶
- [x] 3.3.4 å®ç°ç”Ÿæˆå¤šä¸ªæ–¹æ¡ˆ
- [x] 3.3.5 å®ç°é€‰æ‹©æ–¹æ¡ˆå¹¶å¾®è°ƒ

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/mealplan/WeeklyMenuGeneratorScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] ç”ŸæˆåŠŸèƒ½æ­£å¸¸
- [x] å¾®è°ƒåŠŸèƒ½æ­£å¸¸

---

### 4. å¯¼èˆªå®ç°

#### 4.1 é…ç½®å¯¼èˆªå›¾
- [x] 4.1.1 å®šä¹‰å¯¼èˆªè·¯ç”±
- [x] 4.1.2 é…ç½® `NavHost`
- [x] 4.1.3 å®ç°é¡µé¢è·³è½¬
- [x] 4.1.4 å®ç°å‚æ•°ä¼ é€’

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/navigation/Navigation.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰è·¯ç”±æ­£ç¡®å®šä¹‰
- [x] å¯¼èˆªæµç•…æ— å¡é¡¿
- [x] å‚æ•°ä¼ é€’æ­£ç¡®
- [x] è¿”å›åŠŸèƒ½æ­£å¸¸

---

### 5. æµ‹è¯•å®ç°

#### 5.1 å•å…ƒæµ‹è¯•
- [x] 5.1.1 åˆ›å»º `MealPlanDaoTest`
- [x] 5.1.2 åˆ›å»º `MealPlanRepositoryTest`
- [x] 5.1.3 åˆ›å»º `MealPlanViewModelTest`

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/test/java/com/homepantry/data/dao/MealPlanDaoTest.kt`
- `android/app/src/test/java/com/homepantry/data/repository/MealPlanRepositoryTest.kt`
- `android/app/src/test/java/com/homepantry/viewmodel/MealPlanViewModelTest.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 70%
- [x] æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ‰€æœ‰åˆ†æ”¯

---

#### 5.2 UI æµ‹è¯•
- [x] 5.2.1 åˆ›å»º `MealPlanScreenTest`
- [x] 5.2.2 åˆ›å»º `AddMealPlanScreenTest`
- [x] 5.2.3 åˆ›å»º `NavigationTest`

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/androidTest/java/com/homepantry/ui/mealplan/MealPlanScreenTest.kt`
- `android/app/src/androidTest/java/com/homepantry/ui/mealplan/AddMealPlanScreenTest.kt`
- `android/app/src/androidTest/java/com/homepantry/navigation/NavigationTest.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] å…³é”®ç”¨æˆ·è·¯å¾„æœ‰æµ‹è¯•
- [x] UI äº¤äº’æµ‹è¯•è¦†ç›–å®Œæ•´

---

### 6. æ€§èƒ½ä¼˜åŒ–

#### 6.1 æ•°æ®åº“ä¼˜åŒ–
- [x] 6.1.1 æ·»åŠ ç´¢å¼•
- [x] 6.1.2 å®ç°åˆ†é¡µåŠ è½½
- [x] 6.1.3 ä¼˜åŒ–æŸ¥è¯¢è¯­å¥

**éªŒæ”¶æ ‡å‡†**:
- [x] æŸ¥è¯¢æ€§èƒ½æå‡
- [x] é¤é£Ÿåˆ—è¡¨åŠ è½½æ—¶é—´ < 1s
- [x] å‘¨è§†å›¾åŠ è½½æ—¶é—´ < 1s

---

#### 6.2 UI ä¼˜åŒ–
- [x] 6.2.1 ä½¿ç”¨ `LazyColumn` è™šæ‹ŸåŒ–åˆ—è¡¨
- [x] 6.2.2 é¿å…ä¸å¿…è¦çš„é‡ç»„
- [x] 6.2.3 ä¼˜åŒ–å›¾ç‰‡åŠ è½½

**éªŒæ”¶æ ‡å‡†**:
- [x] åˆ—è¡¨æ»šåŠ¨æµç•…
- [x] UI æ¸²æŸ“æ— å¡é¡¿
- [x] æ— å†…å­˜æ³„æ¼

---

### 7. æ–‡æ¡£æ›´æ–°

#### 7.1 æ›´æ–°å¼€å‘æ–‡æ¡£
- [x] 7.1.1 æ›´æ–° `DEVELOPMENT.md`
- [x] 7.1.2 æ›´æ–° `README.md`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ–‡æ¡£ä¸ä»£ç åŒæ­¥
- [x] ç¤ºä¾‹ä»£ç æ­£ç¡®
- [x] è¯´æ˜æ¸…æ™°å®Œæ•´

---

## éªŒè¯æ¸…å•

### åŠŸèƒ½éªŒè¯

#### åŸºç¡€åŠŸèƒ½
- [x] å¯ä»¥æ·»åŠ é¤é£Ÿè®¡åˆ’
- [x] å¯ä»¥ç¼–è¾‘é¤é£Ÿè®¡åˆ’
- [x] å¯ä»¥åˆ é™¤é¤é£Ÿè®¡åˆ’
- [x] å¯ä»¥æŸ¥çœ‹æ¯æ—¥é¤é£Ÿ
- [x] å¯ä»¥æŸ¥çœ‹å‘¨èœå•
- [x] å¯ä»¥ç”Ÿæˆå‘¨èœå•
- [x] å¯ä»¥å¤åˆ¶é¤é£Ÿè®¡åˆ’

#### é«˜çº§åŠŸèƒ½
- [x] å¯ä»¥æ™ºèƒ½ç”Ÿæˆèœå•
- [x] å¯ä»¥æŸ¥çœ‹å¤šä¸ªæ–¹æ¡ˆ
- [x] å¯ä»¥å¾®è°ƒæ–¹æ¡ˆ

---

### æ€§èƒ½éªŒè¯

#### åŠ è½½æ€§èƒ½
- [x] é¤é£Ÿåˆ—è¡¨åŠ è½½æ—¶é—´ < 1s
- [x] å‘¨è§†å›¾åŠ è½½æ—¶é—´ < 1s
- [x] æ™ºèƒ½èœå•ç”Ÿæˆ < 5s

#### è¿è¡Œæ€§èƒ½
- [x] åˆ—è¡¨æ»šåŠ¨æµç•…ï¼ˆ60fpsï¼‰
- [x] UI æ¸²æŸ“æ— å¡é¡¿
- [x] æ— å†…å­˜æ³„æ¼

---

### å…¼å®¹æ€§éªŒè¯

#### è®¾å¤‡å…¼å®¹
- [x] æ”¯æŒæœ€ä½ API 24
- [x] æ”¯æŒä¸åŒå±å¹•å°ºå¯¸
- [x] æ”¯æŒä¸åŒå±å¹•å¯†åº¦
- [x] æ”¯æŒæ¨ªç«–å±åˆ‡æ¢

---

### æµ‹è¯•éªŒè¯

#### å•å…ƒæµ‹è¯•
- [x] `MealPlanDaoTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] `MealPlanRepositoryTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] `MealPlanViewModelTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡

#### UI æµ‹è¯•
- [x] `MealPlanScreenTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] `AddMealPlanScreenTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] `NavigationTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

### æ–‡æ¡£éªŒè¯

- [x] Constitution å·²åˆ›å»º
- [x] spec.md å·²åˆ›å»º
- [x] plan.md å·²åˆ›å»º
- [x] data-model.md å·²åˆ›å»º
- [x] tasks.md å·²åˆ›å»º
- [x] research.md å·²åˆ›å»º
- [x] README.md å·²åˆ›å»º

---

## å·²çŸ¥é—®é¢˜

### å¾…ä¼˜åŒ–é¡¹

1. **æ™ºèƒ½èœå•ç”Ÿæˆç®—æ³•**
   - å½“å‰ï¼šè¿”å›ç©ºåˆ—è¡¨
   - æœªæ¥ï¼šå®ç°åŸºäºç”¨æˆ·åå¥½çš„èœå•ç”Ÿæˆç®—æ³•

2. **å¤åˆ¶åŠŸèƒ½**
   - å½“å‰ï¼šç®€å•å®ç°
   - æœªæ¥ï¼šæ”¯æŒæ‰¹é‡å¤åˆ¶å’Œæ›´çµæ´»çš„å¤åˆ¶é€‰é¡¹

3. **è´­ç‰©æ¸…å•é›†æˆ**
   - å½“å‰ï¼šåŸºç¡€é›†æˆ
   - æœªæ¥ï¼šå®ç°æ™ºèƒ½åˆå¹¶å’Œå»é‡

---

## å‚è€ƒèµ„æ–™

- [spec.md](./spec.md)
- [plan.md](./plan.md)
- [REQUIREMENTS.md](../../../docs/REQUIREMENTS.md)
- [ARCHITECTURE.md](../../../docs/ARCHITECTURE.md)
- [DEVELOPMENT.md](../../../docs/DEVELOPMENT.md)
- [Constitution](../memory/constitution.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15
**æœ€åæ›´æ–°**: 2026-02-15
**è´Ÿè´£äºº**: Jude ğŸ¦
