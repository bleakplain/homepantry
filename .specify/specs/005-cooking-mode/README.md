# Spec 005: 烹饪模式

**Spec ID**: 005
**功能名称**: 烹饪模式
**优先级**: P0
**状态**: ✅ 已实现
**创建日期**: 2026-02-15
**最后更新**: 2026-02-15

---

## 文档列表

| 文档 | 描述 | 字符数 |
|------|------|--------|
| [spec.md](./spec.md) | 需求规范（What + Why） | 1,904 |
| [plan.md](./plan.md) | 技术方案（技术栈 + 架构） | 1,477 |
| [data-model.md](./data-model.md) | 数据模型（核心组件） | 1,514 |
| [tasks.md](./tasks.md) | 任务清单（实现步骤） | 1,074 |
| [research.md](./research.md) | 技术调研（选型 + 问题） | 998 |
| **总计** | - | **7,967** |

---

## 核心内容

### What（做什么）

**核心功能**:
1. **横屏大字模式**: 专为厨房场景设计，超大字体，单屏一步
2. **语音播报**: TTS 播报烹饪步骤和关键提醒
3. **手势操作**: 手背滑动、音量键、隔空手势
4. **步骤内计时器**: 嵌入计时器，语音提醒
5. **关键提醒**: 高亮显示关键步骤和注意事项
6. **多菜并行**: 同时做多道菜时的协调和提醒

### Why（为什么）

**对用户的价值**:
- 手上有油/湿，不方便操作手机
- 担心忘记下一步
- 需要计时提醒
- 需要多菜协调

**对产品的价值**:
- 核心功能，是用户使用应用的重要原因
- 高频使用功能，提高用户粘性

---

## 技术实现

### 技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| Kotlin | 1.9+ | 开发语言 |
| Jetpack Compose | 1.5+ | UI 框架 |
| TextToSpeech | Android | 语音播报 |

---

## 数据模型

### 核心组件

烹饪模式不需要独立的数据库实体，它主要是一个 UI 和交互功能。

**核心组件**:
1. **CookingModeManager**: 烹饪模式管理器（步骤、计时器、语音播放）
2. **VoicePlaybackManager**: 语音播放管理器（TTS API）
3. **StepTimer**: 步骤内计时器（线程、提醒）

---

## 实现状态

### 已完成（✅）

**表现层**:
- [x] EnhancedCookingModeScreen
- [x] 语音播报功能
- [x] 手势操作
- [x] 步骤内计时器

**业务逻辑层**:
- [x] CookingModeManager
- [x] VoicePlaybackManager

**测试**:
- [x] CookingModeManagerTest（14 个测试）

---

## 验收标准

### 功能验收

- [x] 可以进入烹饪模式
- [x] 可以横屏显示
- [x] 可以语音播报步骤
- [x] 可以手势切换步骤

---

## 已知问题和优化方向

### 已知问题

1. **TTS 语音播报**
   - 当前：基础播报功能
   - 未来：支持语速调节、方言选择

2. **隔空手势**
   - 当前：需要前置摄像头
   - 未来：优化检测算法

---

## 参考资料

- [spec.md](./spec.md)
- [plan.md](./plan.md)
- [tasks.md](./tasks.md)
- [REQUIREMENTS.md](../../../docs/REQUIREMENTS.md)
- [ARCHITECTURE.md](../../../docs/ARCHITECTURE.md)
- [Constitution](../memory/constitution.md)

---

**文档版本**: 1.0
**创建日期**: 2026-02-15
**最后更新**: 2026-02-15
**负责人**: Jude 🦞
