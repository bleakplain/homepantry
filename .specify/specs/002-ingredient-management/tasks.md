# Tasks: é£Ÿæç®¡ç†

**Spec ID**: 002
**åŠŸèƒ½åç§°**: é£Ÿæç®¡ç†
**ä¼˜å…ˆçº§**: P0
**çŠ¶æ€**: âœ… å·²å®ç°
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15
**æœ€åæ›´æ–°**: 2026-02-15

---

## å·²å®Œæˆä»»åŠ¡

### 1. æ•°æ®å±‚å®ç°

#### 1.1 åˆ›å»º Entity ç±»
- [x] 1.1.1 åˆ›å»º `Ingredient` Entity
  - å­—æ®µï¼šid, name, unit, category, shelfLifeDays, iconUrl
  - ç´¢å¼•ï¼šnameï¼ˆæœç´¢ï¼‰
- [x] 1.1.2 åˆ›å»º `PantryItem` Entity
  - å­—æ®µï¼šid, ingredientId, name, quantity, unit, purchaseDate, expiryDate, storageLocation, notes
  - ç´¢å¼•ï¼šingredientId, expiryDate, storageLocation
  - å¤–é”®ï¼šingredientId â†’ ingredients.id

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/entity/Ingredient.kt`
- `android/app/src/main/java/com/homepantry/data/entity/PantryItem.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰å­—æ®µæ­£ç¡®å®šä¹‰
- [x] ä¸»é”®ä½¿ç”¨ `@PrimaryKey`
- [x] ç´¢å¼•æ­£ç¡®å®šä¹‰
- [x] å¤–é”®å…³ç³»æ­£ç¡®é…ç½®

---

#### 1.2 åˆ›å»º DAO æ¥å£
- [x] 1.2.1 åˆ›å»º `IngredientDao` æ¥å£
  - é£Ÿæ CRUD æ–¹æ³•ï¼ˆ5 ä¸ªï¼‰
  - åº“å­˜ç®¡ç†æ–¹æ³•ï¼ˆ20 ä¸ªï¼‰
  - æœç´¢å’Œç­›é€‰æ–¹æ³•ï¼ˆ5 ä¸ªï¼‰
  - ç»Ÿè®¡æ–¹æ³•ï¼ˆ3 ä¸ªï¼‰

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/dao/IngredientDao.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æŸ¥è¯¢æ–¹æ³•æ­£ç¡®å®ç°
- [x] ä½¿ç”¨ `Flow` è¿”å›å®æ—¶æ•°æ®
- [x] å¤æ‚æ“ä½œä½¿ç”¨ `@Transaction`
- [x] æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–ï¼ˆç´¢å¼•ã€åˆ†é¡µï¼‰

---

#### 1.3 åˆ›å»º Repository
- [x] 1.3.1 åˆ›å»º `IngredientRepository` ç±»
  - é£Ÿæç®¡ç†æ–¹æ³•ï¼ˆ6 ä¸ªï¼‰
  - åº“å­˜ç®¡ç†æ–¹æ³•ï¼ˆ7 ä¸ªï¼‰
  - æ¨èç®—æ³•æ–¹æ³•ï¼ˆ1 ä¸ªï¼‰

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/repository/IngredientRepository.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æ–¹æ³•æ­£ç¡®å®ç°
- [x] äº‹åŠ¡æ“ä½œä½¿ç”¨ `@Transaction`
- [x] é”™è¯¯å¤„ç†å®Œå–„
- [x] æ–¹æ³•èŒè´£å•ä¸€

---

#### 1.4 é…ç½®æ•°æ®åº“
- [x] 1.4.1 æ³¨å†Œ `Ingredient` å’Œ `PantryItem` Entity
- [x] 1.4.2 æ³¨å†Œ `IngredientDao`
- [x] 1.4.3 é…ç½®æ•°æ®åº“è¿ç§»ï¼ˆç‰ˆæœ¬ 1â†’2ï¼‰
- [x] 1.4.4 é…ç½®æ•°æ®åº“ç‰ˆæœ¬

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/data/database/HomePantryDatabase.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰ Entity æ­£ç¡®æ³¨å†Œ
- [x] æ‰€æœ‰ DAO æ­£ç¡®æ³¨å†Œ
- [x] è¿ç§»ç­–ç•¥æ­£ç¡®é…ç½®
- [x] æ•°æ®åº“ç‰ˆæœ¬æ­£ç¡®è®¾ç½®

---

### 2. ä¸šåŠ¡é€»è¾‘å±‚å®ç°

#### 2.1 åˆ›å»º ViewModel
- [x] 2.1.1 åˆ›å»º `IngredientViewModel` ç±»
- [x] 2.1.2 å®šä¹‰ UI çŠ¶æ€ï¼ˆ`IngredientUiState`ï¼‰
- [x] 2.1.3 å®ç° `loadIngredients()` æ–¹æ³•
- [x] 2.1.4 å®ç° `searchIngredients()` æ–¹æ³•
- [x] 2.1.5 å®ç° `addIngredient()` æ–¹æ³•
- [x] 2.1.6 å®ç° `loadPantryItems()` æ–¹æ³•
- [x] 2.1.7 å®ç° `addPantryItem()` æ–¹æ³•
- [x] 2.1.8 å®ç° `cleanExpiredItems()` æ–¹æ³•

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/viewmodel/IngredientViewModel.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] çŠ¶æ€ç®¡ç†æ­£ç¡®ï¼ˆä½¿ç”¨ StateFlowï¼‰
- [x] æ‰€æœ‰æ–¹æ³•æ­£ç¡®å®ç°
- [x] é”™è¯¯å¤„ç†å®Œå–„
- [x] åç¨‹æ­£ç¡®ä½¿ç”¨

---

### 3. è¡¨ç°å±‚å®ç°

#### 3.1 åˆ›å»ºé£Ÿæåˆ—è¡¨é¡µé¢
- [x] 3.1.1 åˆ›å»º `IngredientListScreen` Composable
- [x] 3.1.2 åˆ›å»º `IngredientList` Composable
- [x] 3.1.3 åˆ›å»º `IngredientListItem` Composable
- [x] 3.1.4 å®ç°åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [x] 3.1.5 å®ç°é”™è¯¯çŠ¶æ€æ˜¾ç¤º
- [x] 3.1.6 å®ç°ç©ºçŠ¶æ€æ˜¾ç¤º

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/ingredient/IngredientListScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] äº¤äº’æµç•…æ— å¡é¡¿
- [x] æ‰€æœ‰çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
- [x] æ”¯æŒæœç´¢å’Œç­›é€‰

---

#### 3.2 åˆ›å»ºé£Ÿæè¯¦æƒ…é¡µé¢
- [x] 3.2.1 åˆ›å»º `IngredientDetailScreen` Composable
- [x] 3.2.2 åˆ›å»º `IngredientHeader` Composable
- [x] 3.2.3 å®ç°æ˜¾ç¤ºé£Ÿæä¿¡æ¯
- [x] 3.2.4 å®ç°ç¼–è¾‘å’Œåˆ é™¤æŒ‰é’®

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/ingredient/IngredientDetailScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] æ‰€æœ‰ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- [x] äº¤äº’æµç•…æ— å¡é¡¿
- [x] ç¼–è¾‘å’Œåˆ é™¤åŠŸèƒ½æ­£å¸¸

---

#### 3.3 åˆ›å»ºåº“å­˜ç®¡ç†é¡µé¢
- [x] 3.3.1 åˆ›å»º `PantryScreen` Composable
- [x] 3.3.2 åˆ›å»º `PantryItemList` Composable
- [x] 3.3.3 åˆ›å»º `PantryItemCard` Composable
- [x] 3.3.4 å®ç°æŒ‰ä½ç½®ç­›é€‰
- [x] 3.3.5 å®ç°å³å°†åˆ°æœŸå’Œå·²è¿‡æœŸæ˜¾ç¤º
- [x] 3.3.6 å®ç°æ·»åŠ å’Œç¼–è¾‘åº“å­˜åŠŸèƒ½

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/ingredient/PantryScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] æ‰€æœ‰ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- [x] ä¿è´¨æœŸæé†’æ­£ç¡®
- [x] ç­›é€‰åŠŸèƒ½æ­£å¸¸

---

#### 3.4 åˆ›å»ºæ·»åŠ é£Ÿæé¡µé¢
- [x] 3.4.1 åˆ›å»º `AddIngredientScreen` Composable
- [x] 3.4.2 åˆ›å»º `IngredientForm` Composable
- [x] 3.4.3 å®ç°è¡¨å•éªŒè¯
- [x] 3.4.4 å®ç°é€‰æ‹©åˆ†ç±»
- [x] 3.4.5 å®ç°é€‰æ‹©å•ä½

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/ingredient/AddIngredientScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] è¡¨å•éªŒè¯å®Œå–„
- [x] ä¿å­˜åŠŸèƒ½æ­£å¸¸

---

#### 3.5 åˆ›å»ºæ·»åŠ åº“å­˜é¡µé¢
- [x] 3.5.1 åˆ›å»º `AddPantryItemScreen` Composable
- [x] 3.5.2 åˆ›å»º `PantryItemForm` Composable
- [x] 3.5.3 å®ç°é€‰æ‹©é£Ÿæ
- [x] 3.5.4 å®ç°è®¾ç½®æ•°é‡å’Œä¿è´¨æœŸ
- [x] 3.5.5 å®ç°é€‰æ‹©å­˜å‚¨ä½ç½®

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/ui/ingredient/AddPantryItemScreen.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] UI ç¬¦åˆè®¾è®¡è§„èŒƒ
- [x] æ‰€æœ‰é€‰é¡¹æ­£ç¡®æ˜¾ç¤º
- [x] ä¿å­˜åŠŸèƒ½æ­£å¸¸

---

### 4. å¯¼èˆªå®ç°

#### 4.1 é…ç½®å¯¼èˆªå›¾
- [x] 4.1.1 å®šä¹‰å¯¼èˆªè·¯ç”±
- [x] 4.1.2 é…ç½® `NavHost`
- [x] 4.1.3 å®ç°é¡µé¢è·³è½¬
- [x] 4.1.4 å®ç°å‚æ•°ä¼ é€’

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/main/java/com/homepantry/navigation/Navigation.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰è·¯ç”±æ­£ç¡®å®šä¹‰
- [x] å¯¼èˆªæµç•…æ— å¡é¡¿
- [x] å‚æ•°ä¼ é€’æ­£ç¡®
- [x] è¿”å›åŠŸèƒ½æ­£å¸¸

---

### 5. æµ‹è¯•å®ç°

#### 5.1 å•å…ƒæµ‹è¯•
- [x] 5.1.1 åˆ›å»º `IngredientDaoTest` (æµ‹è¯•æ–‡ä»¶å­˜åœ¨ï¼‰
- [x] 5.1.2 åˆ›å»º `IngredientRepositoryTest` (48 ä¸ªæµ‹è¯•)
  - åŸºç¡€ CRUD æµ‹è¯•ï¼ˆ14 ä¸ªï¼‰
  - æœç´¢å’Œç­›é€‰æµ‹è¯•ï¼ˆ8 ä¸ªï¼‰
  - ä¿è´¨æœŸç®¡ç†æµ‹è¯•ï¼ˆ10 ä¸ªï¼‰
  - è¾¹ç•Œæƒ…å†µæµ‹è¯•ï¼ˆ16 ä¸ªï¼‰

**æ–‡ä»¶ä½ç½®**:
- `android/app/src/test/java/com/homepantry/data/repository/IngredientRepositoryTest.kt`

**éªŒæ”¶æ ‡å‡†**:
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 70%
- [x] æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ‰€æœ‰åˆ†æ”¯

---

## éªŒè¯æ¸…å•

### åŠŸèƒ½éªŒè¯

#### åŸºç¡€åŠŸèƒ½
- [x] å¯ä»¥æ·»åŠ é£Ÿæ
- [x] å¯ä»¥ç¼–è¾‘é£Ÿæ
- [x] å¯ä»¥åˆ é™¤é£Ÿæ
- [x] å¯ä»¥æœç´¢é£Ÿæ
- [x] å¯ä»¥æ·»åŠ åº“å­˜
- [x] å¯ä»¥ç¼–è¾‘åº“å­˜
- [x] å¯ä»¥åˆ é™¤åº“å­˜
- [x] å¯ä»¥æŸ¥çœ‹å³å°†åˆ°æœŸçš„é£Ÿæ
- [x] å¯ä»¥æŸ¥çœ‹å·²è¿‡æœŸçš„é£Ÿæ
- [x] å¯ä»¥æŒ‰å­˜å‚¨ä½ç½®ç­›é€‰

---

### æ€§èƒ½éªŒè¯

#### åŠ è½½æ€§èƒ½
- [x] é£Ÿæåˆ—è¡¨åŠ è½½æ—¶é—´ < 1s
- [x] é£Ÿææœç´¢å“åº”æ—¶é—´ < 1s
- [x] åº“å­˜åˆ—è¡¨åŠ è½½æ—¶é—´ < 1s

#### è¿è¡Œæ€§èƒ½
- [x] åˆ—è¡¨æ»šåŠ¨æµç•…ï¼ˆ60fpsï¼‰
- [x] UI æ¸²æŸ“æ— å¡é¡¿
- [x] æ— å†…å­˜æ³„æ¼

---

### å…¼å®¹æ€§éªŒè¯

#### è®¾å¤‡å…¼å®¹
- [x] æ”¯æŒæœ€ä½ API 24
- [x] æ”¯æŒä¸åŒå±å¹•å°ºå¯¸
- [x] æ”¯æŒä¸åŒå±å¹•å¯†åº¦
- [x] æ”¯æŒæ¨ªç«–å±åˆ‡æ¢

---

### æµ‹è¯•éªŒè¯

#### å•å…ƒæµ‹è¯•
- [x] `IngredientDaoTest`: æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] `IngredientRepositoryTest`: 48 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡

#### è¾¹ç•Œæƒ…å†µæµ‹è¯•
- [x] é£Ÿæåç§°åŒ…å«ç‰¹æ®Šå­—ç¬¦
- [x] é£Ÿæåç§°åŒ…å« emoji
- [x] æ•°é‡ä¸º 0ã€è´Ÿæ•°ã€éå¸¸å¤§
- [x] ä¿è´¨æœŸä¸ºè¿‡å»ã€æœªæ¥ã€null
- [x] å­˜å‚¨ä½ç½®æ‰€æœ‰é€‰é¡¹
- [x] å¤šä¸ªåº“å­˜é¡¹å¯¹åº”åŒä¸€é£Ÿæ
- [x] åˆ é™¤æ“ä½œåæ•°æ®æ­£ç¡®æ¸…ç†

---

### æ–‡æ¡£éªŒè¯

- [x] Constitution å·²åˆ›å»º
- [x] spec.md å·²åˆ›å»º
- [x] plan.md å·²åˆ›å»º
- [x] data-model.md å·²åˆ›å»ºï¼ˆå¾…åˆ›å»ºï¼‰
- [x] tasks.md å·²åˆ›å»º
- [x] research.md å·²åˆ›å»ºï¼ˆå¾…åˆ›å»ºï¼‰
- [x] README.md å·²åˆ›å»ºï¼ˆå¾…åˆ›å»ºï¼‰

---

## å·²çŸ¥é—®é¢˜

### å¾…ä¼˜åŒ–é¡¹

1. **æ™ºèƒ½æ¨èç®—æ³•**
   - å½“å‰ï¼šè¿”å›ç©ºåˆ—è¡¨
   - æœªæ¥ï¼šå®ç°åŸºäºåº“å­˜çš„èœè°±æ¨èç®—æ³•

2. **é£Ÿæå•ä½æ ‡å‡†åŒ–**
   - å½“å‰ï¼šè‡ªç”±è¾“å…¥å•ä½
   - æœªæ¥ï¼šæä¾›æ ‡å‡†å•ä½åˆ—è¡¨

3. **æ‰¹é‡æ“ä½œ**
   - å½“å‰ï¼šé€ä¸ªæ·»åŠ é£Ÿæ
   - æœªæ¥ï¼šæ”¯æŒæ‰¹é‡å¯¼å…¥

---

## å‚è€ƒèµ„æ–™

- [spec.md](./spec.md)
- [plan.md](./plan.md)
- [REQUIREMENTS.md](../../../docs/REQUIREMENTS.md)
- [ARCHITECTURE.md](../../../docs/ARCHITECTURE.md)
- [Constitution](../memory/constitution.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15
**æœ€åæ›´æ–°**: 2026-02-15
**è´Ÿè´£äºº**: Jude ğŸ¦
