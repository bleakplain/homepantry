# Spec: 洋物清单

**Spec ID**: 004
**功能名称**: 洋物清单
**优先级**: P0
**状态**: ✅ 已实现
**创建日期**: 2026-02-15
**最后更新**: 2026-02-15

---

## What

### 功能描述

洋物清单功能允许用户管理购物清单，包括添加清单、添加购物项、智能合并、价格记录等。支持根据餐食计划自动生成购物清单。

### 核心功能

1. **购物清单管理**
   - 添加购物清单
   - 编辑购物清单
   - 删除购物清单
   - 标记完成/未完成

2. **购物项管理**
   - 添加购物项
   - 编辑购物项
   - 删除购物项
   - 勾选已购买

3. **智能合并**
   - 合并相同食材
   - 累加数量

4. **分类整理**
   - 按超市区域分类
   - 蔬菜、肉类、调料等

5. **价格记录**
   - 记录购买价格
   - 预计花费 vs 实际花费

6. **自动生成**
   - 根据餐食计划自动生成
   - 智能汇总所需食材

### 用户场景

#### 场景1：创建购物清单

**触发条件**: 准备去超市

**用户目标**: 快速生成购物清单

**当前痛点**: 临时记在手机备忘录，容易遗漏

**解决方案**:
1. 进入"购物清单"页面
2. 点击"生成清单"
3. 选择餐食计划
4. 自动生成购物清单
5. 可编辑和补充

**成功标准**:
- 清单自动生成
- 食材合并正确
- 分类整理完成

---

## Why

### 业务价值

**对用户的价值**:
- 自动汇总所需食材
- 智能合并数量
- 分类整理，购物更高效
- 价格记录，了解消费

**对产品的价值**:
- 核心功能，与菜单规划紧密集成
- 为数据统计提供数据
- 提高用户粘性

---

## User Stories

### US-001: 作为用户，我想要添加购物清单，以便管理购物

**验收标准**:
- [ ] 可以添加购物清单
- [ ] 可以添加购物项
- [ ] 可以设置价格

### US-002: 作为用户，我想要自动生成购物清单，以便根据菜单生成

**验收标准**:
- [ ] 可以根据菜单计划生成
- [ ] 可以智能合并食材
- [ ] 可以按分类整理

---

## Non-Functional Requirements

### 性能

| 指标 | 要求 | 说明 |
|------|------|------|
| 清单加载 | < 1s | 1000 个清单以内 |
| 项添加 | < 1s | 单个项 |

### 可用性

| 指标 | 要求 | 说明 |
|------|------|------|
| 添加成功率 | ≥ 99% | 无数据丢失 |
| 合并准确率 | ≥ 95% | 相同食材合并 |

---

## Constraints

### 技术约束

- **编程语言**: Kotlin 1.9+
- **UI 框架**: Jetpack Compose 1.5+
- **数据库**: Room 2.6+
- **最低支持**: Android API 24

---

## Dependencies

### 依赖的其他功能

- **餐食计划**: 自动生成购物清单

### 被依赖的功能

- **数据统计**: 消费数据分析

---

## Out of Scope

- [ ] 超市小票扫描

---

## References

- [REQUIREMENTS.md](../../../docs/REQUIREMENTS.md)
- [Constitution](../memory/constitution.md)

---

**文档版本**: 1.0
**创建日期**: 2026-02-15
**最后更新**: 2026-02-15
**负责人**: Jude 🦞
